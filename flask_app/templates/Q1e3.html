<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <style>
      table {
          border-collapse: collapse;
          width: 100%;
          border: 1px solid #dddddd; /* Apply border to the entire table */
      }
      th, td {
          border: 1px solid #dddddd; /* Apply border to each cell */
          text-align: left;
          padding: 8px;
      }
      th {
          background-color: #000000;
          color: #fff;
      }
  </style>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  </head>
  <body>
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
      <div class="container-fluid">
        <a class="navbar-brand" href="/">ECI</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="/purchase">Purchase Details</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="/redemption">Redemption Details</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <div class="d-flex flex-column mb-3 justify-content-center container-fluid px-4 text-center">
        <div class="row gx-5">
          <div class="col">
            <div class="p-3">
              <h2 class="justify-content-center">Q3</h2>
          </div>
          </div>
          
        </div>
      </div>
  
      <div class="d-flex flex-column mb-3 justify-content-center container-fluid px-4 text-center">
        <div class="row gx-5">
          <div class="col">
            <div class="p-3">
             <a class="btn btn-primary justify-content-center" href="/purchase" role="button">Q1</a>
            </div>
           </div>
          <div class="col">
           <div class="p-3">
            <a class="btn btn-primary justify-content-center" href="/Q1e3" role="button">Q3</a>
           </div>
          </div>
          <div class="col">
            <div class="p-3">
            <a class="btn btn-primary justify-content-center" href="/Q1e4" role="button">Q4</a>
          </div>
          </div>
          <div class="col">
            <div class="p-3">
            <a class="btn btn-primary justify-content-center" href="/Q1e6" role="button">Q6</a>
          </div>
          </div>
          
        </div>
      </div>
  
      
      
  
        <div class="d-flex flex-column mb-3 justify-content-center container-fluid px-4 text-center">
          <div class="row gx-5">
            <div class="col">
              <div class="p-3">
                          <form id="submit" class="d-flex" role="search" method='post' action="/Q1e3no">
                              Select Political Party: 
                          <select name="no" id="select">
                          {% for names in dropdown_data %}
                              <option value='{{names[0]}}'>{{names[0]}}</option>
                          {% endfor %}
                      </select>
                  </form>
                  <!-- </div> -->
              </div>
            </div>
          </div>
        </div>
        {% if q2 %}
        <div class="d-flex flex-column mb-3 justify-content-center container-fluid px-4 text-center">
          <div class="row gx-5">
              <div class="col">
                <div class="p-3">
                    Company name: {{q2[0]}}
                </div>
              </div>
            </div>
          <div class="row gx-5">
            <div class="col">
              <div class="p-3">
                  Bonds Purchased in 2019: {{q2[6]}}
              </div>
            </div>
            <div class="col">
              <div class="p-3">
                  Money Spent in 2019: {{q2[1]}}
              </div>
            </div>
          </div>
          <div class="row gx-5">
              <div class="col">
                <div class="p-3">
                    Bonds Purchased in 2020: {{q2[7]}}
                </div>
              </div>
              <div class="col">
                <div class="p-3">
                    Money Spent in 2020: {{q2[2]}}
                </div>
              </div>
            </div>
            <div class="row gx-5">
              <div class="col">
                <div class="p-3">
                    Bonds Purchased in 2021: {{q2[8]}}
                </div>
              </div>
              <div class="col">
                <div class="p-3">
                    Money Spent in 2021: {{q2[3]}}
                </div>
              </div>
            </div>
            <div class="row gx-5">
              <div class="col">
                <div class="p-3">
                    Bonds Purchased in 2022: {{q2[9]}}
                </div>
              </div>
              <div class="col">
                <div class="p-3">
                    Money Spent in 2022: {{q2[4]}}
                </div>
              </div>
            </div>
            <div class="row gx-5">
              <div class="col">
                <div class="p-3">
                    Bonds Purchased in 2023: {{q2[10]}}
                </div>
              </div>
              <div class="col">
                <div class="p-3">
                    Money Spent in 2023: {{q2[5]}}
                </div>
              </div>
            </div>
            <div class="row gx-5">
              <div class="col">
                <div class="p-3">
                  <canvas id="myChart1"></canvas>
                </div>
              </div>
              <div class="col">
                <div class="p-3">
                  <canvas id="myChart2"></canvas>
                </div>
              </div>
            </div>
        </div>
      <div>
          <canvas id="myChart1"></canvas>
      </div>
      <div>
          <canvas id="myChart2"></canvas>
      </div>
      {%endif%}
    <a onclick=""> <a>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

        <script>
          const ctx_1 = document.getElementById('myChart1');
          bonds_purchased = new Chart(ctx_1, {
            type: 'bar',
            data: {
              labels: ['2019', '2020', '2021', '2022', '2023'],
              datasets: [{
                label: 'No. of Bonds',
                data: {{q2[6:11]}},
                borderWidth: 1
              }]
            },
            options: {
              scales: {
                y: {
                  beginAtZero: true
                }
              }
            }
          });
        </script>
        <script>
          const ctx = document.getElementById('myChart2');
          new Chart(ctx, {
            type: 'bar',
            data: {
              labels: ['2019', '2020', '2021', '2022', '2023'],
              datasets: [{
                label: 'Total Value of Bonds per year',
                data: {{q2[1:6]}},
                borderWidth: 1
              }]
            },
            options: {
              scales: {
                y: {
                  beginAtZero: true
                }
              }
            }
          });
        </script>
      <script>
          document.getElementById('select').addEventListener('change', ()=>{
              document.getElementById('submit').submit();
          })
      </script>
      <script>
          const dateControl = document.querySelector('input[type="date"]');
          dateControl.value = "2017-06-01";
          console.log(dateControl.value); // prints "2017-06-01"
          console.log(dateControl.valueAsNumber); 
        </script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  </body>
</html>